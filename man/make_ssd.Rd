% Generated by hand; keep in sync with R/make_ssd.R
\name{make_ssd}
\alias{make_ssd}
\title{Create a stop-signal delay generator}
\description{
Returns a function that can be supplied to the \code{functions} argument of
\code{\link{make_data}} to generate the \code{SSD} column for stop-signal
simulations. The generator can sample fixed SSD values or drive staircase
procedures, optionally stratified by grouping factors such as subjects or
stimulus categories. By default, every subject runs an independent staircase
(identified via the \code{subjects} column) so each participant starts at
\code{SSD0}.
}
\usage{
make_ssd(
  values = NULL,
  p = NULL,
  staircase = TRUE,
  SSD0 = 0.25,
  stairstep = 0.05,
  stairmin = 0,
  stairmax = Inf,
  p_stop = 0.25,
  factors = NULL,
  formula = NULL
)
}
\arguments{
\item{values}{Numeric vector of fixed SSD values. Supply this when
\code{staircase = FALSE}. If \code{NULL}, the generator creates staircase
trials.}

\item{p}{Numeric vector of probabilities corresponding to \code{values}. When
its length equals \code{length(values)} the entries are interpreted as the
proportion of trials allocated to each SSD level (they need not sum to 1; the
remainder is treated as go trials). If the length is one, the value specifies
the overall stop-trial probability and SSD levels are sampled uniformly. When
\code{NULL}, the default overall stop probability comes from \code{p_stop}.}

\item{staircase}{Either a logical flag (default \code{TRUE}) indicating whether
to use a staircase, or a list describing staircase settings. A single
staircase specification is a list with elements \code{SSD0}, \code{stairstep},
\code{stairmin}, \code{stairmax}, and \code{p}. A list of such lists can be
supplied to configure multiple staircases.}

\item{SSD0, stairstep, stairmin, stairmax}{Default staircase parameters used
when \code{staircase = TRUE} or when a group-specific specification omits the
corresponding field.}

\item{p_stop}{Default probability of a stop trial for staircase modes (and for
fixed SSDs when \code{p} is omitted). Must lie between 0 and 1.}

\item{factors}{Character vector of column names that define separate
staircases. When \code{NULL}, all trials share the same staircase.}

\item{formula}{Optional formula specifying the grouping structure, e.g.
\code{SSD ~ S | subjects}. The right-hand side (and, if present, the
conditioning part beyond the \code{|}) are converted into grouping factor
names. The \code{factors} argument and the variables implied by the formula are
combined.}
}
\value{
A function of a data frame that returns a numeric vector of SSDs. The returned
function carries class \code{emc_ssd_function} so that \code{\link{make_data}}
can attach the generated staircase specifications to the simulated data.
}
\examples{
# Fixed SSDs sampled on 25\% of trials
ssd_fixed <- make_ssd(values = c(.26, .35, .46), p = rep(.25 / 3, 3), staircase = FALSE)

# Staircase with default parameters operating per subject and stimulus
ssd_stair <- make_ssd(factors = c("subjects", "S"))
}
