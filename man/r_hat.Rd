% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics.r
\name{r_hat}
\alias{r_hat}
\title{R-hat convergence diagnostic}
\usage{
r_hat(mcmc_list, version = c("old", "new"))
}
\arguments{
\item{mcmc_list}{A \code{coda::mcmc.list} object containing MCMC draws.}

\item{version}{Character string, either \code{"old"} or \code{"new"}. \code{"old"} (default)
calls \code{gelman_diag_robust()} (based on \code{\link[coda:gelman.diag]{coda::gelman.diag()}}), while
\code{"new"} uses a vendored implementation of \code{posterior::rhat()}.}
}
\value{
A named numeric vector of \eqn{\hat{R}} values, with names
corresponding to parameters.
}
\description{
Computes the potential scale reduction factor (R-hat) for each parameter
from an MCMC run. Supports both the legacy \code{\link[coda:gelman.diag]{coda::gelman.diag()}} implementation
and the rank-normalized split-\eqn{\hat{R}} diagnostic of Vehtari et al. (2021).
}
\details{
The \code{"new"} method is adapted directly from the \pkg{posterior} package's
\href{https://mc-stan.org/posterior/reference/rhat.html}{\code{rhat()}} implementation,
but included here to avoid introducing an additional package dependency.
The substantive computation is identical, though some internal details
have been simplified.
}
\references{
Vehtari, A., Gelman, A., Simpson, D., Carpenter, B., & Bürkner, P.-C. (2021).
Rank-normalization, folding, and localization: An improved \eqn{\hat{R}} for
assessing convergence of MCMC. \emph{Bayesian Analysis}, \emph{16}(2), 667–718.
}
\keyword{internal}
