<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Model Averaging — model_averaging • EMC2</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Model Averaging — model_averaging"><meta name="description" content="Computes model weights and a Bayes factor by comparing two groups of models based on their
Information Criterion (IC) values. The function works with either numeric vectors or data
frames containing multiple IC measures (e.g., MD, BPIC, DIC)."><meta property="og:description" content="Computes model weights and a Bayes factor by comparing two groups of models based on their
Information Criterion (IC) values. The function works with either numeric vectors or data
frames containing multiple IC measures (e.g., MD, BPIC, DIC)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EMC2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Simulation-based-Calibration.html">Simulation-based Calibration</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ampl-psych/EMC2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Model Averaging</h1>
      <small class="dont-index">Source: <a href="https://github.com/ampl-psych/EMC2/blob/main/R/statistics.R" class="external-link"><code>R/statistics.R</code></a></small>
      <div class="d-none name"><code>model_averaging.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes model weights and a Bayes factor by comparing two groups of models based on their
Information Criterion (IC) values. The function works with either numeric vectors or data
frames containing multiple IC measures (e.g., MD, BPIC, DIC).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">model_averaging</span><span class="op">(</span><span class="va">IC_for</span>, <span class="va">IC_against</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ic-for">IC_for<a class="anchor" aria-label="anchor" href="#arg-ic-for"></a></dt>
<dd><p>A numeric vector or the output of <code>compare</code></p></dd>


<dt id="arg-ic-against">IC_against<a class="anchor" aria-label="anchor" href="#arg-ic-against"></a></dt>
<dd><p>A numeric vector or the output of <code>compare</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> with the following columns:</p><dl><dt><code>wFor</code></dt>
<dd><p>The aggregated weight of the models in favor.</p></dd>

<dt><code>wAgainst</code></dt>
<dd><p>The aggregated weight of the models against.</p></dd>

<dt><code>Factor</code></dt>
<dd><p>The Bayes factor (ratio of <code>wFor</code> to <code>wAgainst</code>).</p></dd>


</dl><p>If <code>IC_for</code> is a data frame, a matrix with rows corresponding to each IC measure is returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When provided with numeric vectors, it computes the weights for the two groups by first
converting the IC values into relative weights and then normalizing them. When provided with
a data frame, it assumes that the data frame is the output of a call to <code>compare</code>
and applies averaging to each IC metric</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># First set up some example models (normally these would be alternative models)</span></span></span>
<span class="r-in"><span><span class="va">samples_LNR2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">samples_LNR</span>, length.out <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">samples_LNR3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">samples_LNR</span>, length.out <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">samples_LNR4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">samples_LNR</span>, length.out <span class="op">=</span> <span class="fl">35</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run compare on them, BayesFactor = F is set for speed.</span></span></span>
<span class="r-in"><span><span class="va">ICs</span> <span class="op">&lt;-</span> <span class="fu"><a href="compare.html">compare</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>S1 <span class="op">=</span> <span class="va">samples_LNR</span>, S2 <span class="op">=</span> <span class="va">samples_LNR2</span>,</span></span>
<span class="r-in"><span>                    S3 <span class="op">=</span> <span class="va">samples_LNR3</span>, S4 <span class="op">=</span> <span class="va">samples_LNR4</span><span class="op">)</span>, BayesFactor <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     DIC  wDIC BPIC wBPIC EffectiveN meanD Dmean minD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S1 -610 0.255 -571 0.265         39  -648  -656 -687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S2 -609 0.216 -571 0.206         39  -648  -655 -687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S3 -609 0.204 -570 0.184         39  -648  -656 -687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S4 -610 0.325 -572 0.345         39  -649  -656 -687</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model averaging can either be done with a vector of ICs:</span></span></span>
<span class="r-in"><span><span class="fu">model_averaging</span><span class="op">(</span><span class="va">ICs</span><span class="op">$</span><span class="va">BPIC</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, <span class="va">ICs</span><span class="op">$</span><span class="va">BPIC</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        wFor  wAgainst    Factor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.3906135 0.6093865 0.6409947</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or the output of compare:</span></span></span>
<span class="r-in"><span><span class="fu">model_averaging</span><span class="op">(</span><span class="va">ICs</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span>, <span class="va">ICs</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           wFor  wAgainst    Factor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BPIC 0.4710716 0.5289284 0.8906151</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIC  0.4713225 0.5286775 0.8915123</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Niek Stevenson, Michelle Donzallaz, Andrew Heathcote.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

